{"version":3,"sources":["../src/index.js"],"names":["Jimp","require","shouldAssertion","should","be","constructor","prototype","hasOwnProp","obj","key","Object","hasOwnProperty","call","hashForEach","hash","func","getTestDir","dir","testRE","document","getElementsByTagName","scripts","querySelectorAll","testScript","find","script","src","match","includes","replace","TypeError","isWeb","warn","window","console","sup","jgdReadableMatrix","img","rMatrix","line","len","data","length","i","pix","toString","toUpperCase","push","sel","r","g","b","a1","a2","a","parseInt","width","join","sameJGD","targetJGD","message","testJGD","exist","height","equal","matrixMsg","donutJGD","_","X","colors","A","B","C","D","E","F","throwUndefinedChar","char","cList","k","c","Error","mkJGD","jgd","y","w","x","jgdToStr","colors2","lines","map","l"],"mappings":"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","sourcesContent":["import should from 'should'; // Ensure should to load in browser through browserify.\n\nexport const Jimp = require('./jgd-wrapper');\n\n// eslint-disable-next-line no-use-extend-native/no-use-extend-native\nconst shouldAssertion = {}.should.be.constructor.prototype;\n\nexport function hasOwnProp(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\n\nexport function hashForEach(hash, func) {\n  for (const key in hash) if (hasOwnProp(hash, key)) func(key, hash[key]);\n}\n\nexport function getTestDir(dir) {\n  const testRE = /\\/[^/]+\\.test\\.js($|\\?.*)/;\n  if (\n    typeof document !== 'undefined' &&\n    document &&\n    document.getElementsByTagName\n  ) {\n    const scripts = document.querySelectorAll('script');\n\n    const testScript = [...scripts].find(\n      script => script.src.match(testRE) && script.src.includes(dir)\n    );\n\n    if (testScript) {\n      return testScript.src.replace(testRE, '');\n    }\n\n    throw new TypeError('Cant discover the web test directory');\n  } else {\n    if (typeof dir === 'undefined') {\n      throw new TypeError('Cant discover the env test directory');\n    }\n\n    return dir;\n  }\n}\n\nexport function isWeb(warn) {\n  if (typeof window !== 'undefined' && window.document) {\n    console.warn(warn);\n    return true;\n  }\n\n  return false;\n}\n\nconst sup = '⁰¹²³⁴⁵⁶⁷⁸⁹ᵃᵇᶜᵈᵉᶠ';\n\nexport function jgdReadableMatrix(img) {\n  const rMatrix = [];\n  let line = [];\n  const len = img.data.length;\n\n  for (let i = 0; i < len; i++) {\n    let pix = img.data[i].toString(16).toUpperCase();\n\n    while (pix.length < 8) pix = '0' + pix;\n\n    line.push(\n      pix.replace(/(..)(..)(..)(.)(.)/, (sel, r, g, b, a1, a2) => {\n        const a = sup[parseInt(a1, 16)] + sup[parseInt(a2, 16)];\n        return r + '-' + g + '-' + b + a;\n      })\n    );\n    if (i > 0 && (i + 1) % img.width === 0) {\n      rMatrix.push(line.join(' '));\n      line = [];\n    }\n  }\n\n  return rMatrix.join('\\n');\n}\n\nshouldAssertion.sameJGD = function(targetJGD, message) {\n  message = message ? ' ' + message : '';\n  const testJGD = this.obj;\n  should.exist(testJGD.width, 'Width was not defined.' + message);\n  should.exist(testJGD.height, 'Height was not defined.' + message);\n  testJGD.width.should.be.equal(\n    targetJGD.width,\n    'Width is not the expected.' + message\n  );\n  testJGD.height.should.be.equal(\n    targetJGD.height,\n    'Height is not the expected.' + message\n  );\n  const matrixMsg = message || 'The pixel matrix is not the expected.';\n  jgdReadableMatrix(testJGD).should.be.equal(\n    jgdReadableMatrix(targetJGD),\n    matrixMsg\n  );\n};\n\nexport function donutJGD(_, i, X) {\n  /* eslint comma-spacing: off */\n  return {\n    width: 10,\n    height: 10,\n    data: [\n      _,\n      _,\n      _,\n      _,\n      _,\n      _,\n      _,\n      _,\n      _,\n      _,\n      _,\n      _,\n      _,\n      i,\n      X,\n      X,\n      i,\n      _,\n      _,\n      _,\n      _,\n      _,\n      X,\n      X,\n      X,\n      X,\n      X,\n      X,\n      _,\n      _,\n      _,\n      i,\n      X,\n      X,\n      i,\n      i,\n      X,\n      X,\n      i,\n      _,\n      _,\n      X,\n      X,\n      i,\n      _,\n      _,\n      i,\n      X,\n      X,\n      _,\n      _,\n      X,\n      X,\n      i,\n      _,\n      _,\n      i,\n      X,\n      X,\n      _,\n      _,\n      i,\n      X,\n      X,\n      i,\n      i,\n      X,\n      X,\n      i,\n      _,\n      _,\n      _,\n      X,\n      X,\n      X,\n      X,\n      X,\n      X,\n      _,\n      _,\n      _,\n      _,\n      _,\n      i,\n      X,\n      X,\n      i,\n      _,\n      _,\n      _,\n      _,\n      _,\n      _,\n      _,\n      _,\n      _,\n      _,\n      _,\n      _,\n      _\n    ]\n  };\n}\n\nconst colors = {\n  '▴': 0xff0000ff, // Red\n  '▵': 0xff00007f, // Red half-alpha\n  '▸': 0x00ff00ff, // Green\n  '▹': 0x00ff007f, // Green half-alpha\n  '▾': 0x0000ffff, // Blue\n  '▿': 0x0000ff7f, // Blue half-alpha\n  '◆': 0xffff00ff, // Yellow\n  '◇': 0xffff007f, // Yellow half-alpha\n  '▪': 0x00ffffff, // Cyan\n  '▫': 0x00ffff7f, // Cyan half-alpha\n  '▰': 0xff00ffff, // Magenta\n  '▱': 0xff00ff7f, // Magenta half-alpha\n  ' ': 0x00000000, // Transparent black\n  '■': 0x000000ff, // Black\n  '0': 0x000000ff, // Black\n  '1': 0x111111ff,\n  '2': 0x222222ff,\n  '3': 0x333333ff,\n  '▩': 0x404040ff, // Dark gray (1/4 white)\n  '4': 0x444444ff,\n  '5': 0x555555ff,\n  '6': 0x666666ff,\n  '7': 0x777777ff,\n  '8': 0x888888ff,\n  '▦': 0x808080ff, // Half gray (1/2 white)\n  '9': 0x999999ff,\n  A: 0xaaaaaaff,\n  B: 0xbbbbbbff,\n  '▥': 0xbfbfbfff, // Light gray (3/4 white)\n  C: 0xccccccff,\n  D: 0xddddddff,\n  E: 0xeeeeeeff,\n  F: 0xffffffff, // White\n  '□': 0xffffffff // White\n};\n\nfunction throwUndefinedChar(char) {\n  const cList = [];\n  hashForEach(colors, (k, c) => {\n    c = c.toString(16);\n    while (c.length < 8) c = '0' + c;\n    cList.push(k + '=' + c);\n  });\n  throw new Error(\n    'The char \"' +\n      char +\n      '\" do not defines a color. ' +\n      'This are the valid chars: ' +\n      cList.join(' ')\n  );\n}\n\n/* Build a JGD object from a list of strings */\nexport function mkJGD(...args) {\n  const jgd = { width: 0, height: args.length, data: [] };\n  for (let y = 0; y < jgd.height; y++) {\n    const line = args[y];\n    jgd.width = line.length;\n    const w = jgd.width;\n\n    for (let x = 0; x < w; x++) {\n      if (typeof colors[line[x]] === 'undefined') {\n        throwUndefinedChar(line[x]);\n      } else {\n        jgd.data[y * w + x] = colors[line[x]];\n      }\n    }\n  }\n\n  return jgd;\n}\n\n// Helps to debug image data\nexport function jgdToStr(jgd) {\n  const colors2 = {};\n  hashForEach(colors, (k, c) => {\n    colors2[c] = k;\n  });\n  const lines = [];\n  const w = jgd.width;\n  for (let y = 0; y < jgd.height; y++) {\n    lines[y] = '';\n    for (let x = 0; x < w; x++) {\n      const k = colors2[jgd.data[y * w + x]] || '?';\n      lines[y] += k;\n    }\n  }\n\n  return lines.map(l => \"'\" + l + \"'\").join('\\n');\n}\n"],"file":"index.js"}